##
##  $Header: /scm/cvs/src/common/Makegen,v 1.6 1999/04/11 00:04:26 emk Exp $
##
##  This is the makegen file for the libraries shared between d2c and mindy.
##

# the order is significant, since the d2c libraries must be compiled in
# dependency order. 

# These libraries are needed to compile d2c. They must compile against the
# runtime that shipped with 2.2.0.
@libraries_needed_to_bootstrap =
    ('streams', 'standard-io', 'print', 'format', 'coll-ext',
     'table-ext', 'string-ext', 'regexp', 'format-out', 'matrix',
     'time', 'stream-ext', 'transcendental', 'getopt');
    #'internal-time'

# These libraries have been introduced since 2.2.0. They may not be used by
# d2c, parsergen or any of the above libraries. Once common-dylan stabilizes,
# and most users can compile common-dylan programs, we'll drop backwards
# compatibility with 2.2.0 and port everything to build against these
# libraries.
@newer_libraries =
    ('common-dylan', 'io');

if ($enable_bootstrap) {
    &compile_subdirs(@libraries_needed_to_bootstrap);
} else {
    &compile_subdirs(@libraries_needed_to_bootstrap, @newer_libraries);
}
